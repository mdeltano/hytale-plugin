---
title: 08 — Encapsulamento e Modificadores de Acesso
description: Aprenda a como proteger e controlar o acesso aos dados das suas classes.
---

O Encapsulamento consiste em ocultar os detalhes internos de uma classe e determinar como os seus dados podem ser acessados ou modificados. Isso evita que erros aconteçam e o seu código se torna mais simples de manter e atualizar.

## O Problema Sem o Encapsulamento

```java
public class Jogador {
    public String nome;
    public int vida;
    public int vidaMax;
}

public class Main {
    public static void main(String[] args) {
        Jogador jogador = new Jogador();
        jogador.vida = 100;
        jogador.vidaMax = 100;
        
        // Ops! Alguém pode quebrar as regras.
        jogador.vida = 500;      // Vida excedente!
        jogador.vida = -50;      // Vida negativa!
        jogador.nome = "";         // Nome vazio!
    }
}
```

Sem proteção, qualquer um pode definir valores inválidos!

## Modificadores de Acesso

O Java tem palavras-chave que controlam quem pode acessar os membros da sua classe:

| Modificador | Classe | Pacote | Subclasse | Mundo |
| ----------- | ------ | ------ | --------- | ----- |
| `public`    | ✓      | ✓      | ✓         | ✓     |
| `protected` | ✓      | ✓      | ✓         | ✗     |
| (nenhum)    | ✓      | ✓      | ✗         | ✗     |
| `private`   | ✓      | ✗      | ✗         | ✗     |

**Por enquanto, concentre-se em:**

* `public` — Qualquer pessoa pode acessar
* `private` — Apenas essa classe pode acessar

## Tornando Propriedades Privadas

```java
public class Jogador {
    private String nome;
    private int vida;
    private int vidaMax;
    
    public Jogador(String nome, int vidaMax) {
        this.nome = nome;
        this.vida = vidaMax;
        this.vidaMax = vidaMax;
    }
}
```

Você não consegue mais acessar as propriedades diretamente:

```java
Jogador jogador = new Jogador("Alice", 100);
jogador.vida = 500;  // ❌ Erro! A "vida" é privada
```

## Métodos Getters e Setters

Para acessar propriedades privadas, crie os métodos **getter** e **setter**:

```java
public class Jogador {
    private String nome;
    private int vida;
    private int vidaMax;
    
    public Jogador(String nome, int vidaMax) {
        this.nome = nome;
        this.vida = vidaMax;
        this.vidaMax = vidaMax;
    }
    
    // Getter — retorna o valor
    public int obterVida() {
        return vida;
    }
    
    // Setter — define o valor com validação
    public void definirVida(int vida) {
        if (vida < 0) {
            this.vida = 0;
        } else if (vida > vidaMax) {
            this.vida = vidaMax;
        } else {
            this.vida = vida;
        }
    }
    
    public String obterNome() {
        return nome;
    }
    
    public int obterVidaMax() {
        return vidaMax;
    }
}
```

Agora você pode interagir com segurança com o objeto:

```java
Jogador jogador = new Jogador("Alice", 100);

jogador.definirVida(150);  // Limitado automaticamente para 100
System.out.println(jogador.definirVida());  // 100

jogador.definirVida(-20);  // Definido automaticamente para 0
System.out.println(jogador.definirVida());  // 0
```

<Callout type="info" title="Nomeação de Getter e Setter">
  Seguir convenções de nomenclatura do Java:

  * **Getter**: `obter` + nome da propriedade (capitalizado)
  * **Setter**: `definir` + nome da propriedade (capitalizado)
  * **Boolean**: `eh ou esta` + nome da propriedade (capitalizado)

  ```java
  private int Vida;
  public int definirVida() { }
  public void definirVida(int vida) { }

  private boolean vivo;
  public boolean estaVivo() { }
  public void defineVivo(boolean vivo) { }

  private String nome;
  public String obterNome() { }
  public void setName(String nome) { }
  ```
</Callout>

## Vantagens do Encapsulamento

### 1. Validação

```java
public class Item {
    private int durabilidade;
    private int durabilidadeMax;
    
    public void definirDurabilidade(int durabilidade) {
        if (durabilidade < 0) {
            this.durabilidade = 0;
        } else if (durability > durabilidadeMax) {
            this.durabilidade = durabilidadeMax;
        } else {
            this.durabilidade = durabilidade;
        }
    }
    
    public boolean estaQuebrado() {
        return durabilidade <= 0;
    }
}
```

### 2. Propriedades Apenas de Leitura

Às vezes, você não quer um setter:

```java
public class Monstro {
    private String id;  // Nunca deveria mudar
    private int vida;
    
    public Monstro(String id, int vida) {
        this.id = id;
        this.vida = vida;
    }
    
    // Apenas Getter — Não Setter!
    public String obterId() {
        return id;
    }
    
    public int obterVida() {
        return vida;
    }
    
    public void definirVida(int vida) {
        this.vida = vida;
    }
}
```

### 3. Propriedades Calculadas

Os métodos Getter não precisam retornar um campo diretamente:

```java
public class Jogador {
    private int vida;
    private int vidaMax;
    
    public int obterVida() {
        return vida;
    }
    
    // Propriedades calculadas
    public double obterVidaPorcentagem() {
        return (vida * 100.0) / vidaMax;
    }
    
    // Propriedades calculadas
    public boolean estaVidaBaixa() {
        return obterVidaPorcentagem() < 25;
    }
}
```

## Exemplos na Prática

### Item com Durabilidade

```java
public class Ferramenta {
    private String nome;
    private int durabilidade;
    private int durabilidadeMax;
    private boolean quebrado;
    
    public Ferramenta(String nome, int durabilidadeMax) {
        this.nome = nome;
        this.durabilidade = durabilidadeMax;
        this.durabilidadeMax = durabilidadeMax;
        this.quebrado = false;
    }
    
    public void uso() {
        if (quebrado) {
            System.out.println(nome + " está quebrado!");
            return;
        }
        
        durabilidade--;
        System.out.println(nome + " usado. Durabilidade: " + durabilidade);
        
        if (durabilidade <= 0) {
            quebrado = true;
            System.out.println(nome + " quebrado!");
        }
    }
    
    public void reparar() {
        durability = durabilidadeMax;
        quebrado = false;
        System.out.println(nome + " reparado!");
    }
    
    // Getters
    public String obterNome() {
        return nome;
    }
    
    public int obterDurabilidade() {
        return durabilidade;
    }
    
    public boolean estaQuebrado() {
        return quebrado;
    }
    
    public double obterDurabilidadePorcentagem() {
        return (durabilidade * 100.0) / durabilidadeMax;
    }
}
```

### Exemplo de Conta Bancária

```java
public class CarteiraDoJogador {
    private int ouro;
    private int prata;

    public CarteiraDoJogador() {
        this.ouro = 0;
        this.prata = 0;
    }

    public void adicionarOuro(int quantidade) {
        if (quantidade > 0) {
            ouro += quantidade;
            System.out.println("Adicionado " + quantidade + " de ouro");
        }
    }

    public boolean gastarOuro(int quantidade) {
        if (quantidade > ouro) {
            System.out.println("Ouro insuficiente!");
            return false;
        }
        
        ouro -= quantidade;
        System.out.println("Gasto " + quantidade + " de ouro");
        return true;
    }

    public int obterOuro() {
        return ouro;
    }

    public int obterValorTotal() {
        // 1 ouro = 100 pratas
        return ouro * 100 + prata;
    }
}
```

### Sistema de Blocos Protegido

```java
public class BlocoProtegido {
    private int x, y, z;
    private String tipo;
    private String dono;
    private boolean estaTrancado;

    public BlocoProtegido(int x, int y, int z, String tipo, String dono) {
        this.x = x;
        this.y = y;
        this.z = z;
        this.tipo = tipo;
        this.dono = dono;
        this.estaTrancado = true; // Começa trancado por padrão
    }

    public boolean podeQuebrar(String nomeJogador) {
        // Se não estiver trancado, qualquer um pode quebrar
        if (!estaTrancado) {
            return true;
        }
        
        // Se estiver trancado, só o dono pode quebrar
        return nomeJogador.equals(dono);
    }

    public void destrancar(String nomeJogador) {
        if (nomeJogador.equals(dono)) {
            trancado = false;
            System.out.println("Bloco destrancado");
        } else {
            System.out.println("Você não é o dono deste bloco!");
        }
    }

    // Getters apenas - posição e dono não devem mudar
    public int obterX() {
        return x;
    }

    public int obterY() {
        return y;
    }

    public int obterZ() {
        return z;
    }

    public String obterDono() {
        return dono;
    }

    public boolean estaTrancado() {
        return trancado;
    }
}
```

## Quando Usar Private vs Public

<Callout type="info" title="Regras Gerais">
  **Torná-lo privado por padrão!** Apenas torne as coisas públicas se elas precisarem ser acessadas de fora.

  **Private:**

  * Dados internos (vida, posição, inventário)
  * Métodos de ajuda usados apenas na classe
  * Tudo que precise de validação

  **Public:**

  * Métodos que definem o comportamento da classe
  * Construtor
  * Métodos que outras classes precisam utilizar

  ```java
  public class Exemplo {
      // Privado - dados internos (ninguém de fora vê)
      private int contadorInterno;
      private String chaveSecreta;

      // Público - parte da interface (o que o mundo exterior pode usar)
      public void fazerAlgo() {
          // Usa um método auxiliar privado
          validarDados();
      }

      // Privado - auxiliar interno (só esta classe pode usar)
      private void validarDados() {
          // ... (lógica de validação)
      }
  }
  ```
</Callout>

## A palavra-chave `final`

`final` significa que uma variável não pode ser alterada após ser definida:

```java
public class Jogador {
    private final String id;  // Não pode mudar após a criação (Imutável)
    private String nome;      // Pode mudar
    private int vida;         // Pode mudar

    public Jogador(String id, String nome) {
        this.id = id;
        this.nome = nome;
    }

    public String obterId() {
        return id;
    }

    // Não existe definirId() - porque a variável é final!

    public String obterNome() {
        return nome;
    }

    public void definitNome(String nome) {
        this.nome = nome;
    }
}
```

## Exercícios de prática

1. **Crie uma Classe `ContaDoBanco`**:
   * Propriedades Privadas: numeroDaConta, saldo
   * Construtor para definir o número da conta
   * Métodos: depositar(), sacar(), obterSaldo()
   * Validação: não é possível sacar mais do que o saldo
   * Número de conta deve ser read-only (somente leitura)

2. **Crie uma classe `Porta`**:
   * Propriedades Privadas: estaTrancada, codigoDeDesbloqueio
   * Construtor para definir o código de desbloqueio
   * Métodos: trancar(), destrancar(String codigo), estaTrancada()
   * desbloquear() só funciona com código correto
   * O código deve ser Private (não exponha!)

3. **Criar uma Classe `EstatisticasDoPlayer`**:
   * Propriedades Privadas: forca, defesa, velocidade
   * Construtor para definir todas as estatísticas
   * Getters para todas as estatísticas
   * Método: obterNivelDePoder() que retorna forca + defesa + velocidade
   * As estatísticas não podem ser negativas ou superiores a 100

4. **Refatore uma Classe**: Pegue uma de suas classes da lição anterior e adicione o encapsulamento adequado:
   * Prive todas as propriedades
   * Adicionar getters e setters apropriados
   * Adicione a validação aonde necessário
